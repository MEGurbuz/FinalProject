using BusinessLayer.Concrate;
using DataAccsessLayer.Concrate;
using DataAccsessLayer.EntityFramework;
using EntityLayer.Concrate;
using Microsoft.AspNetCore.Mvc;
using Microsoft.EntityFrameworkCore;
using System;
using System.Linq;

namespace PentestProject.Controllers
{
    public class ContactController : Controller
    {

        Context db = new Context();


        ContactManager cm = new ContactManager(new EfContactRepository());

        [HttpGet]
        public IActionResult Index()
        {
            return View(db.Comments.ToList());
        }
        [HttpPost]
        public IActionResult Index(string search)
        {

            var contact = db.Contacts.FromSqlInterpolated($"select * from Contacts where ContactUserName ={search}").ToList();
            //var contact = db.Contacts.FromSqlRaw("select * from Contacts where ContactUserName = '" + search + "!").ToList();
            return View(contact);


        }
    }
}
